services:
  app:
    build: .
    ports:
      - "3000:3000"
    volumes:
      - mentor-data:/app/data
    environment:
      - DATABASE_URL=file:/app/data/mentor-signup.db
      - SESSION_SECRET=change-me-to-a-long-random-string-at-least-32-chars
      - ADMIN_DEFAULT_PASSWORD=changeme
      - NEXT_PUBLIC_APP_NAME=FRC Workshop Signup
      - NEXT_PUBLIC_REFRESH_INTERVAL=30000
      - COOKIE_SECURE=false
      - APPRISE_URL=http://apprise:8000
      - CRON_SECRET=change-me-to-a-random-secret
    depends_on:
      - apprise
    restart: unless-stopped

  apprise:
    image: caronc/apprise:latest
    restart: unless-stopped

volumes:
  mentor-data:
